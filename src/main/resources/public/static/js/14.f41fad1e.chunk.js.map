{"version":3,"sources":["components/index.ts","App.tsx"],"names":["Logo","styled","img","attrs","src","Header","Content","Footer","routes","path","component","lazy","Lo","Logout","div","UserLogo","App","location","useLocation","history","useHistory","user","JSON","parse","sessionStorage","getItem","useEffect","push","pathname","style","height","theme","mode","selectedKeys","lineHeight","Item","key","to","content","onClick","removeItem","name","slice","padding","background","minHeight","margin","overflow","fallback","loading","active","avatar","map","route","exact","textAlign"],"mappings":"iPACO,IAAMA,E,OAAOC,EAAOC,IAAIC,MAAM,CACnCC,IAAK,gBADaH,CAAH,M,+uBCcTI,E,IAAAA,OAAQC,E,IAAAA,QAASC,E,IAAAA,OAEnBC,EAAS,CACb,CACEC,KAAM,aACNC,UAAWC,gBAAK,kBAAM,8EAExB,CACEF,KAAM,WACNC,UAAWC,gBAAK,kBAAM,uEAExB,CACEF,KAAM,YACNC,UAAWC,gBAAK,kBAAM,+EAIpBX,EAAOC,YAAOW,IAAPX,CAAH,KAMJY,EAASZ,IAAOa,IAAV,KAGNC,EAAWd,IAAOa,IAAV,KA0GCE,UA1Ff,WACE,IAAMC,EAAWC,cACXC,EAAUC,cACZC,EAAOC,KAAKC,MAAMC,eAAeC,QAAQ,SAU7C,OATAC,qBAAU,WACJL,EACFF,EAAQQ,KACgB,MAAtBV,EAASW,SAAmB,aAAeX,EAASW,UAGtDT,EAAQQ,KAAK,YAEd,IAED,uBAAQE,MAAO,CAAEC,OAAQ,SACvB,kBAACzB,EAAD,KACE,kBAACL,EAAD,MACA,uBACE+B,MAAM,OACNC,KAAK,aACLC,aAAc,CAAChB,EAASW,UACxBC,MAAO,CAAEK,WAAY,SAErB,sBAAMC,KAAN,CAAWC,IAAI,cACb,kBAAC,IAAD,CAAMC,GAAG,cAAT,iBAEF,sBAAMF,KAAN,CAAWC,IAAI,YACb,kBAAC,IAAD,CAAMC,GAAG,YAAT,iBAEF,sBAAMF,KAAN,CAAWC,IAAI,aACb,kBAAC,IAAD,CAAMC,GAAG,aAAT,kBAGJ,uBACEC,QACE,kBAACzB,EAAD,CACE0B,QAAS,WACPf,eAAegB,WAAW,QAC1BrB,EAAQQ,KAAK,YAHjB,iBAUF,kBAACZ,EAAD,KAAWM,IAASA,EAAKoB,MAAM,gBAAMC,OAAO,MAGhD,kBAACpC,EAAD,CAASuB,MAAO,CAAEc,QAAS,WACzB,yBACEd,MAAO,CACLe,WAAY,OACZD,QAAS,GACTE,UAAW,IACXC,OAAQ,SACRhB,OAAQ,oBACRiB,SAAU,SAUZ,kBAAC,WAAD,CAAUC,SAAU,uBAAUC,SAAO,EAACC,QAAM,EAACC,QAAM,KACjD,kBAAC,IAAD,CAAQlC,SAAUA,GACfT,EAAO4C,KAAI,SAAAC,GAAK,OACf,kBAAC,IAAD,CACEjB,IAAKiB,EAAM5C,KACX6C,OAAK,EACL7C,KAAM4C,EAAM5C,KACZC,UAAW2C,EAAM3C,mBAU7B,kBAACH,EAAD,CAAQsB,MAAO,CAAE0B,UAAW,WAA5B","file":"static/js/14.f41fad1e.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nexport const Logo = styled.img.attrs({\r\n  src: \"/logo512.png\"\r\n})`\r\n  width: 50px;\r\n`;\r\n","import React, { lazy, Suspense, useEffect, useState } from \"react\";\r\nimport {\r\n  Route,\r\n  Switch,\r\n  useLocation,\r\n  useHistory,\r\n  Link,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport { Layout, Menu, Breadcrumb, Skeleton, Popover } from \"antd\";\r\nimport { Logo as Lo } from \"./components\";\r\nimport styled from \"styled-components\";\r\nimport \"./index.css\";\r\n\r\nconst { Header, Content, Footer } = Layout;\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/questions\",\r\n    component: lazy(() => import(\"./pages/Questions\"))\r\n  },\r\n  {\r\n    path: \"/explore\",\r\n    component: lazy(() => import(\"./pages/Explore\"))\r\n  },\r\n  {\r\n    path: \"/practice\",\r\n    component: lazy(() => import(\"./pages/Practice\"))\r\n  }\r\n];\r\n\r\nconst Logo = styled(Lo)`\r\n  height: 31px;\r\n  width: auto;\r\n  margin: 16px 24px 16px 0;\r\n  float: left;\r\n`;\r\nconst Logout = styled.div`\r\n  cursor: pointer;\r\n`;\r\nconst UserLogo = styled.div`\r\n  text-align: center;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  position: absolute;\r\n  right: 20px;\r\n  top: 12px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  line-height: 40px;\r\n  font-weight: 900;\r\n  overflow: hidden;\r\n`;\r\n\r\nfunction App() {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  let user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.push(\r\n        location.pathname === \"/\" ? \"/questions\" : location.pathname\r\n      );\r\n    } else {\r\n      history.push(\"/login\");\r\n    }\r\n  }, []);\r\n  return (\r\n    <Layout style={{ height: \"100%\" }}>\r\n      <Header>\r\n        <Logo />\r\n        <Menu\r\n          theme=\"dark\"\r\n          mode=\"horizontal\"\r\n          selectedKeys={[location.pathname]}\r\n          style={{ lineHeight: \"64px\" }}\r\n        >\r\n          <Menu.Item key=\"/questions\">\r\n            <Link to=\"/questions\">题库</Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/explore\">\r\n            <Link to=\"/explore\">探索</Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/practice\">\r\n            <Link to=\"/practice\">练习</Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n        <Popover\r\n          content={\r\n            <Logout\r\n              onClick={() => {\r\n                sessionStorage.removeItem(\"user\");\r\n                history.push(\"/login\");\r\n              }}\r\n            >\r\n              退出\r\n            </Logout>\r\n          }\r\n        >\r\n          <UserLogo>{user && (user.name||'某人').slice(-1)}</UserLogo>\r\n        </Popover>\r\n      </Header>\r\n      <Content style={{ padding: \"0 50px\" }}>\r\n        <div\r\n          style={{\r\n            background: \"#fff\",\r\n            padding: 24,\r\n            minHeight: 280,\r\n            margin: \"16px 0\",\r\n            height: \"calc(100% - 40px)\",\r\n            overflow: \"auto\"\r\n          }}\r\n        >\r\n          {/* <TransitionGroup className=\"router-wrapper\">\r\n            <CSSTransition\r\n              timeout={500}\r\n              classNames=\"fade\"\r\n              key={location.pathname}\r\n              unmountOnExit\r\n            > */}\r\n          <Suspense fallback={<Skeleton loading active avatar />}>\r\n            <Switch location={location}>\r\n              {routes.map(route => (\r\n                <Route\r\n                  key={route.path}\r\n                  exact\r\n                  path={route.path}\r\n                  component={route.component}\r\n                />\r\n              ))}\r\n            </Switch>\r\n          </Suspense>\r\n\r\n          {/* </CSSTransition>\r\n          </TransitionGroup> */}\r\n        </div>\r\n      </Content>\r\n      <Footer style={{ textAlign: \"center\" }}>\r\n        个性化练习导学系统 ©2019 Created by Wu\r\n      </Footer>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"sourceRoot":""}